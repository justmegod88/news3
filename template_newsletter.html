<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daily News Monitoring</title>

  <style>
    /* ===============================
       ê¸°ë³¸(ëª¨ë°”ì¼ / ì•„ì´íŒ¨ë“œ) ìœ ì§€
       =============================== */
    body {
      margin: 0;
      padding: 0;
      background: #ffffff;
      color: #111827;
      font-family:
        -apple-system,
        BlinkMacSystemFont,
        "Apple SD Gothic Neo",
        "Noto Sans KR",
        Arial,
        sans-serif;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 16px;
      box-sizing: border-box;
    }

    /* ===== í—¤ë” ===== */
    .header-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
    }

    .header-left h1 {
      margin: 0;
      font-size: 22px;
      font-weight: 700;
      color: #0b3a74;
      line-height: 1.25;
    }

    .date {
      margin-top: 6px;
      font-size: 13px;
      color: #4b5563;
    }

    .header-right {
      text-align: right;
      vertical-align: top;
      width: 120px;
    }

    .logo {
      width: 44px;
      height: 44px;
      object-fit: contain;
      border-radius: 6px;
      display: inline-block;
    }

    /* ===== ì„¹ì…˜ íƒ€ì´í‹€ ===== */
    h2 {
      margin: 22px 0 8px 0;
      font-size: 18px;
      font-weight: 700;
      color: #0b3a74;
    }

    /* ===== AI ë¸Œë¦¬í•‘ ===== */
    .summary-box {
      background: #eaf3ff;
      border-left: 4px solid #0b3a74;
      padding: 12px;
      margin: 12px 0 14px 0;
      font-size: 13.5px;
      line-height: 1.55;
    }

    /* ===== ACUVUE ì¹´ë“œ ===== */
    .card {
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 12px;
      margin: 10px 0;
    }

    .card-title {
      font-size: 14.5px;
      font-weight: 700;
      margin-bottom: 6px;
      line-height: 1.4;
    }

    .meta {
      font-size: 12px;
      color: #6b7280;
      margin-bottom: 8px;
    }

    .card-summary {
      font-size: 13px;
      line-height: 1.55;
      margin-bottom: 10px;
    }

    .btn {
      font-size: 12.5px;
      font-weight: 700;
      color: #0b3a74;
      text-decoration: none;
    }

    /* ===== ê¸°ì‚¬ ë¦¬ìŠ¤íŠ¸ ===== */
    .table-title {
      margin: 22px 0 6px 0;
      font-size: 18px;
      font-weight: 700;
      color: #0b3a74;
    }

    .subcat {
      margin: 14px 0 6px 0;
      font-size: 14px;
      font-weight: 700;
    }

    table.news {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
      margin-bottom: 12px;
    }

    table.news th,
    table.news td {
      border: 1px solid #d1d5db;
      padding: 12px 10px;
      font-size: 12.5px;
      line-height: 1.35;
      vertical-align: middle;
      text-align: center;
      word-break: break-word;
    }

    table.news th {
      background: #eaf3ff;
      font-weight: 700;
    }

    .link a {
      font-weight: 700;
      color: #0b3a74;
      text-decoration: none;
    }

    .muted {
      font-size: 12.5px;
      color: #6b7280;
      text-align: center;
    }

    .footer {
      margin-top: 18px;
      font-size: 11.5px;
      color: #6b7280;
      text-align: center;
    }

    /* ===============================
       PC ì „ìš© (ì•„ì´íŒ¨ë“œ ëŠë‚Œ ìœ ì§€)
       =============================== */
    @media screen and (min-width: 1024px) {

      .container {
        max-width: 650px !important;
        padding-left: 18px !important;
        padding-right: 18px !important;
      }

      h2,
      .table-title {
        margin-top: 20px !important;
        margin-bottom: 8px !important;
      }

      .summary-box {
        padding: 12px 14px !important;
      }

      table.news th,
      table.news td {
        padding: 10px 10px !important;
      }

      /* âœ… ë³€ê²½ëœ ì»¬ëŸ¼ ë¹„ìœ¨ */
      .col-title   { width: 30% !important; }
      .col-source  { width: 16% !important; }
      .col-summary { width: 40% !important; }
      .col-link    { width: 14% !important; }

      /* PC í°íŠ¸ fallback */
      body {
        font-family:
          -apple-system,
          BlinkMacSystemFont,
          "Apple SD Gothic Neo",
          "Noto Sans KR",
          "Malgun Gothic",
          Arial,
          sans-serif !important;
      }
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- í—¤ë” -->
    <table class="header-table" role="presentation">
      <tr>
        <td class="header-left">
          <h1>Daily News Monitoring</h1>
          <div class="date">{{ today_date }}</div>
        </td>
        <td class="header-right">
          <img
            class="logo"
            src="https://play-lh.googleusercontent.com/_LBPbhmNDp7aBDGLcfoWU9hbgEsHeqbJQGyM0fX32Tap2b6Mc4KMWpNsLmUCkBSrIr0V"
            alt="ACUVUE"
          />
        </td>
      </tr>
    </table>

    <h2>ì–´ì œ ê¸°ì‚¬ AI ë¸Œë¦¬í•‘</h2>
    <div class="summary-box">{{ yesterday_summary }}</div>

    <h2>ğŸ”· ACUVUE ê¸°ì‚¬</h2>
    {% if acuvue_articles %}
      {% for a in acuvue_articles %}
        <div class="card">
          <div class="card-title">{{ a.title }}</div>
          <div class="meta">{{ a.source }} â€¢ {{ a.published.strftime("%Y-%m-%d %H:%M") }}</div>
          <div class="card-summary">{{ a.summary }}</div>
          <a class="btn" href="{{ a.link }}">ê¸°ì‚¬ ë³´ê¸° â†’</a>
        </div>
      {% endfor %}
    {% else %}
      <p class="muted">ì–´ì œëŠ” ë³„ë„ì˜ ì•„íë¸Œ ê´€ë ¨ ê¸°ì‚¬ê°€ ìˆ˜ì§‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
    {% endif %}

    <div class="table-title">ğŸ“‹ ì–´ì œ ê¸°ì‚¬ ë¦¬ìŠ¤íŠ¸</div>

    {% set sections = [
      ("1) ì—…ì²´ë³„ í™œë™ (íƒ€ì‚¬)", company_articles),
      ("2) ì œí’ˆ ì¹´í…Œê³ ë¦¬ë³„ (ë‚œì‹œë Œì¦ˆÂ·ë©€í‹°í¬ì»¬ ë Œì¦ˆ ë“±)", product_articles),
      ("3) ì—…ê³„ ë™í–¥ (í˜‘íšŒ/ì»¨í¼ëŸ°ìŠ¤/ì²´ì¸/ì•ˆê²½ ë“±)", trend_articles),
      ("4) ëˆˆ ê±´ê°• Â· ìº í˜ì¸", eye_health_articles)
    ] %}

    {% for title, items in sections %}
      <div class="subcat">{{ title }}</div>
      <table class="news">
        <thead>
          <tr>
            <th class="col-title">ì œëª©</th>
            <th class="col-source">ì–¸ë¡ ì‚¬</th>
            <th class="col-summary">ìš”ì•½</th>
            <th class="col-link">ë§í¬</th>
          </tr>
        </thead>
        <tbody>
          {% if items %}
            {% for a in items %}
              <tr>
                <td class="col-title">{{ a.title }}</td>
                <td class="col-source">{{ a.source }}</td>
                <td class="col-summary">{{ a.summary }}</td>
                <td class="col-link link"><a href="{{ a.link }}">ë³´ê¸°</a></td>
              </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="4" class="muted">í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ê¸°ì‚¬ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
            </tr>
          {% endif %}
        </tbody>
      </table>
    {% endfor %}

    <div class="footer">ì´ ë‰´ìŠ¤ë ˆí„°ëŠ” ìë™ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
  </div>
</body>
</html>
